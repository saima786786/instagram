(this.webpackJsonpclone=this.webpackJsonpclone||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},64:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(2),s=a.n(c),o=a(16),i=a.n(o),r=(a(53),a(14)),l=(a(54),a(55),a(94)),u=a(22),p=u.a.initializeApp({apiKey:"AIzaSyDcpqYjhLGQLjQYvajPGWQZqyH1oUiMl3Y",authDomain:"instagram-b13e3.firebaseapp.com",databaseURL:"https://instagram-b13e3.firebaseio.com",projectId:"instagram-b13e3",storageBucket:"instagram-b13e3.appspot.com",messagingSenderId:"585205960124",appId:"1:585205960124:web:2506c3e348757eec3b2fb9",measurementId:"G-XH2T1BQR23"}).firestore(),d=u.a.auth(),j=u.a.storage();var m=function(e){var t=e.postId,a=e.user,s=e.username,o=e.caption,i=e.imageUrl,d=Object(c.useState)([]),j=Object(r.a)(d,2),m=j[0],b=j[1],h=Object(c.useState)(""),g=Object(r.a)(h,2),O=g[0],f=g[1];return Object(c.useEffect)((function(){var e;return console.log(s),t&&(e=p.collection("posts").doc(t).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){b(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[t]),Object(n.jsxs)("div",{className:"post",children:[Object(n.jsxs)("div",{className:"pheader",children:[Object(n.jsx)(l.a,{className:"pavatar",alt:"saima afroz",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ85To3VVbC6-bM6VUEEhH3na3cN17GIZoHzg&usqp=CAU"}),Object(n.jsx)("h3",{children:s})]}),Object(n.jsx)("img",{className:"pimage",alt:"",src:i}),Object(n.jsxs)("h4",{className:"ptext",children:[Object(n.jsx)("strong",{children:s})," ",o]}),Object(n.jsx)("div",{className:"postcomments",children:m.map((function(e){return Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:e.username})," ",e.text]})}))}),a&&Object(n.jsxs)("form",{className:"postcommentbox",children:[Object(n.jsx)("input",{className:"postinput",type:"text",placeholder:"Add a comment...",value:O,onChange:function(e){return f(e.target.value)}}),Object(n.jsx)("button",{className:"postbutton",disabled:!O,type:"submit",onClick:function(e){e.preventDefault(),console.log(a),p.collection("posts").doc(t).collection("comments").add({text:O,username:a.displayName,timestamp:u.a.firestore.FieldValue.serverTimestamp()}),f("")},children:Object(n.jsx)("h4",{children:"post"})})]})]})},b=a(90),h=a(91),g=a(93),O=a(92);a(64);var f=function(e){var t=e.username;console.log(t);var a=Object(c.useState)(null),s=Object(r.a)(a,2),o=s[0],i=s[1],l=Object(c.useState)(0),d=Object(r.a)(l,2),m=d[0],b=d[1],h=Object(c.useState)(""),g=Object(r.a)(h,2),f=g[0],x=g[1];return Object(n.jsxs)("div",{className:"imageupload",children:[Object(n.jsx)("progress",{className:"imageuploadprogress",value:m,max:"100"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter a caption",onChange:function(e){return x(e.target.value)},value:f}),Object(n.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&i(e.target.files[0])}}),Object(n.jsx)(O.a,{onClick:function(){console.log(o),j.ref("images/".concat(o.name)).put(o).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);b(t)}),(function(e){console.log(e),alert(e.message)}),(function(){j.ref("images").child(o.name).getDownloadURL().then((function(e){console.log(e),p.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),caption:f,imageUrl:e,username:t||"Admin"}),b(0),x(""),i(null)}))}))},children:Object(n.jsx)("strong",{children:"UPLOAD"})})]})},x=a(43);function v(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var N=Object(b.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var y=function(){var e=N(),t=Object(c.useState)(v),a=Object(r.a)(t,1)[0],s=Object(c.useState)([]),o=Object(r.a)(s,2),i=o[0],l=o[1],u=Object(c.useState)(!1),j=Object(r.a)(u,2),b=j[0],y=j[1],C=Object(c.useState)(""),S=Object(r.a)(C,2),A=S[0],w=S[1],U=Object(c.useState)(""),I=Object(r.a)(U,2),k=I[0],E=(I[1],Object(c.useState)("")),T=Object(r.a)(E,2),B=T[0],q=T[1],F=Object(c.useState)(""),G=Object(r.a)(F,2),H=G[0],L=G[1],P=Object(c.useState)(null),D=Object(r.a)(P,2),V=D[0],M=D[1];return Object(c.useEffect)((function(){d.onAuthStateChanged((function(e){if(e){if(M(e),!e.displayName)return e.updateProfile({displayName:k})}else M(null)}))}),[k]),Object(c.useEffect)((function(){p.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),console.log(i),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(h.a,{open:b,onClose:function(){return y(!1)},children:Object(n.jsx)("div",{style:a,className:e.paper,children:Object(n.jsxs)("form",{className:"appsignup",children:[Object(n.jsx)("center",{children:Object(n.jsx)("img",{className:"appheaderimage",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTYVsBMwE45E6rXsJHWO5p-C95h6sH4FRk7IA&usqp=CAU",alt:""})}),Object(n.jsx)(g.a,{placeholder:"email",type:"text",value:H,onChange:function(e){return L(e.target.value)}}),Object(n.jsx)(g.a,{placeholder:"password",type:"password",value:B,onChange:function(e){return q(e.target.value)}}),Object(n.jsx)(O.a,{type:"submit",onClick:function(e){e.preventDefault(),d.createUserWithEmailAndPassword(H,B).then((function(e){return e.user.updateProfile({displayName:k})})).catch((function(e){return alert(e.message)})),y(!1)},children:" Sign Up"})]})})}),Object(n.jsx)(h.a,{open:A,onClose:function(){return w(!1)},children:Object(n.jsx)("div",{style:a,className:e.paper,children:Object(n.jsxs)("form",{className:"appsignup",children:[Object(n.jsx)("center",{children:Object(n.jsx)("img",{className:"appheaderimage",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTYVsBMwE45E6rXsJHWO5p-C95h6sH4FRk7IA&usqp=CAU",alt:""})}),Object(n.jsx)(g.a,{placeholder:"email",type:"text",value:H,onChange:function(e){return L(e.target.value)}}),Object(n.jsx)(g.a,{placeholder:"password",type:"password",value:B,onChange:function(e){return q(e.target.value)}}),Object(n.jsx)(O.a,{type:"submit",onClick:function(e){e.preventDefault(),d.signInWithEmailAndPassword(H,B).catch((function(e){return alert(e.message)})),w(!1)},children:" Sign In"})]})})}),Object(n.jsxs)("div",{className:"appheader",children:[Object(n.jsx)("img",{className:"appheaderimage",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTYVsBMwE45E6rXsJHWO5p-C95h6sH4FRk7IA&usqp=CAU",alt:""}),V?Object(n.jsx)(O.a,{onClick:function(){return d.signOut()},children:Object(n.jsx)("b",{children:"LOGOUT"})}):Object(n.jsxs)("div",{className:"applogincontainer",children:[Object(n.jsx)(O.a,{onClick:function(){return w(!0)},children:"Sign In"}),Object(n.jsx)(O.a,{onClick:function(){return y(!0)},children:"Sign Up"})]})]}),Object(n.jsxs)("div",{className:"appposts",children:[Object(n.jsx)("div",{className:"apppostleft",children:i.map((function(e){var t=e.id,a=e.post;return Object(n.jsx)(m,{postId:t,user:V,username:a.username,caption:a.caption,imageUrl:a.imageUrl},t)}))}),Object(n.jsx)("div",{className:"apppostright",children:Object(n.jsx)(x.a,{url:"https://www.instagr.com/p/B_uf9dmAGPw/",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),(null===V||void 0===V?void 0:V.email)?Object(n.jsx)(f,{username:V.displayName}):Object(n.jsx)("h3",{children:"sry u need 2 login upload..."})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,96)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),C()}},[[67,1,2]]]);
//# sourceMappingURL=main.293cea83.chunk.js.map